-# Full listing entry for a tool.
-# Required variables:
  tool - Tool to display information about

.item
  .content
    %a.header{ :href => '{% path_to tool %}' }
      %h3 {{ tool.name | escape }}

    .meta
      {% include 'item_count' with text: 'post',     icon: 'newspaper', count: tool.posts.size     %}
      {% include 'item_count' with text: 'tutorial', icon: 'book',      count: tool.tutorials.size %}
      {% include 'item_count' with text: 'project',  icon: 'lab',       count: tool.projects.size  %}
      {% include 'item_count' with text: 'dev',      icon: 'user',      count: tool.authors.size   %}

    {% if tool.posts.size == 0 and tool.tutorials.size == 0 and tool.projects.size == 0 and tool.authors.size == 0 %}
    {% include 'empty' %}
    {% else %}
    .extra
      .ui.divided.very.relaxed.list
        -# Posts
        {% for post in tool.posts %}
        {% if forloop.index0 < 2 %}
        {% include 'post_preview' with post %}
        {% endif %}
        {% endfor %}

        -# Tutorials
        {% for tutorial in tool.tutorials %}
        {% if forloop.index0 < 2 %}
        {% include 'tutorial_preview' with tutorial %}
        {% endif %}
        {% endfor %}

        -# Projects
        {% for project in tool.projects %}
        {% if forloop.index0 < 2 %}
        {% include 'project_preview' with project %}
        {% endif %}
        {% endfor %}

        -# Authors
        {% for author in tool.authors %}
        {% if forloop.index0 < 2 %}
        {% include 'author_preview' with author %}
        {% endif %}
        {% endfor %}
    {% endif %}
